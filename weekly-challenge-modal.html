<!-- Weekly Challenge Pop-up Modal -->
<div id="weekly-challenge-modal" class="challenge-modal-overlay" style="display: none;">
    <div class="challenge-modal">
        <div class="challenge-modal-header">
            <h2 class="challenge-modal-title">üèà Week 5 Challenge</h2>
            <button class="challenge-modal-close" onclick="closeWeeklyChallengeModal()">&times;</button>
        </div>
        
        <div class="challenge-modal-body">
            <!-- Step 1: Sign In / Sign Up -->
            <div id="challenge-auth-step" class="challenge-step active">
                <div class="challenge-intro">
                    <div class="challenge-icon">üéØ</div>
                    <h3>Make Your Weekly Picks!</h3>
                    <p>Pick winners, answer trivia, compete with friends</p>
                    <div class="challenge-stats">
                        <div class="challenge-stat">
                            <span class="stat-number">2,547</span>
                            <span class="stat-label">Players This Week</span>
                        </div>
                        <div class="challenge-stat">
                            <span class="stat-number">5</span>
                            <span class="stat-label">Games to Pick</span>
                        </div>
                        <div class="challenge-stat">
                            <span class="stat-number">3</span>
                            <span class="stat-label">Trivia Questions</span>
                        </div>
                    </div>
                </div>
                
                <div class="challenge-tabs">
                    <button class="challenge-tab active" onclick="switchAuthTab('login')">Sign In</button>
                    <button class="challenge-tab" onclick="switchAuthTab('register')">Create Account</button>
                </div>
                
                <!-- Login Form -->
                <form id="challenge-login-form" class="challenge-auth-form" onsubmit="handleChallengeLogin(event)">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="login-email" placeholder="your@email.com" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                    </div>
                    <button type="submit" class="challenge-btn-primary">
                        <i class="fas fa-sign-in-alt"></i> Sign In & Start Challenge
                    </button>
                    <p class="challenge-auth-note">New here? Click "Create Account" above</p>
                </form>
                
                <!-- Register Form -->
                <form id="challenge-register-form" class="challenge-auth-form" style="display: none;" onsubmit="handleChallengeRegister(event)">
                    <div class="form-group">
                        <label>Username</label>
                        <input type="text" id="register-username" placeholder="ballknower23" required minlength="3">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="register-email" placeholder="your@email.com" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="register-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label>Favorite Team (Optional)</label>
                        <select id="register-team">
                            <option value="">Select a team...</option>
                            <option value="ARI">Arizona Cardinals</option>
                            <option value="ATL">Atlanta Falcons</option>
                            <option value="BAL">Baltimore Ravens</option>
                            <option value="BUF">Buffalo Bills</option>
                            <option value="CAR">Carolina Panthers</option>
                            <option value="CHI">Chicago Bears</option>
                            <option value="CIN">Cincinnati Bengals</option>
                            <option value="CLE">Cleveland Browns</option>
                            <option value="DAL">Dallas Cowboys</option>
                            <option value="DEN">Denver Broncos</option>
                            <option value="DET">Detroit Lions</option>
                            <option value="GB">Green Bay Packers</option>
                            <option value="HOU">Houston Texans</option>
                            <option value="IND">Indianapolis Colts</option>
                            <option value="JAX">Jacksonville Jaguars</option>
                            <option value="KC">Kansas City Chiefs</option>
                            <option value="LAC">Los Angeles Chargers</option>
                            <option value="LAR">Los Angeles Rams</option>
                            <option value="LV">Las Vegas Raiders</option>
                            <option value="MIA">Miami Dolphins</option>
                            <option value="MIN">Minnesota Vikings</option>
                            <option value="NE">New England Patriots</option>
                            <option value="NO">New Orleans Saints</option>
                            <option value="NYG">New York Giants</option>
                            <option value="NYJ">New York Jets</option>
                            <option value="PHI">Philadelphia Eagles</option>
                            <option value="PIT">Pittsburgh Steelers</option>
                            <option value="SF">San Francisco 49ers</option>
                            <option value="SEA">Seattle Seahawks</option>
                            <option value="TB">Tampa Bay Buccaneers</option>
                            <option value="TEN">Tennessee Titans</option>
                            <option value="WAS">Washington Commanders</option>
                        </select>
                    </div>
                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="register-email-opt-in" checked>
                            Send me weekly reminders and updates
                        </label>
                    </div>
                    <button type="submit" class="challenge-btn-primary">
                        <i class="fas fa-user-plus"></i> Create Account & Start Challenge
                    </button>
                    <p class="challenge-auth-note">Already have an account? Click "Sign In" above</p>
                </form>
            </div>
            
            <!-- Step 2: Challenge Overview (shown after auth) -->
            <div id="challenge-overview-step" class="challenge-step">
                <div class="challenge-welcome">
                    <h3>Welcome back, <span id="user-display-name">Player</span>! üëã</h3>
                    <p>Ready to make your Week 5 picks?</p>
                </div>
                
                <div class="challenge-progress">
                    <div class="progress-item">
                        <div class="progress-icon">üèà</div>
                        <div class="progress-info">
                            <h4>Game Picks</h4>
                            <p><span id="picks-complete">0</span> of 5 complete</p>
                        </div>
                        <button class="progress-btn" onclick="startPicks()">Make Picks</button>
                    </div>
                    <div class="progress-item">
                        <div class="progress-icon">üß†</div>
                        <div class="progress-info">
                            <h4>Trivia</h4>
                            <p><span id="trivia-complete">0</span> of 3 complete</p>
                        </div>
                        <button class="progress-btn" onclick="startTrivia()">Take Quiz</button>
                    </div>
                </div>
                
                <div class="challenge-leaderboard-preview">
                    <h4>üèÜ Your Current Rank</h4>
                    <div class="rank-display">
                        <span class="rank-number">#<span id="user-current-rank">--</span></span>
                        <span class="rank-points"><span id="user-current-points">0</span> pts</span>
                    </div>
                </div>
                
                <div class="challenge-actions">
                    <button class="challenge-btn-secondary" onclick="closeWeeklyChallengeModal()">Maybe Later</button>
                    <button class="challenge-btn-primary" onclick="continueToChallenge()">Let's Go!</button>
                </div>
            </div>
        </div>
        
        <div class="challenge-modal-footer">
            <p>üîí No betting. No payments. Just friendly competition.</p>
        </div>
    </div>
</div>

